<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Interpreter</title>
	<script src="parser/stream.js"></script>
	<script src="parser/character.js"></script>
	<script src="parser/word.js"></script>
	<script src="parser/expression.js"></script>
	<script src="parser/keywords/function.js"></script>
	<script src="parser/keywords/while.js"></script>
	<script src="parser/keywords/if.js"></script>
	<script src="parser/keywords/end.js"></script>
	<script src="parser/keywords/return.js"></script>
	<script src="parser/keywords/assignment.js"></script>
	<script src="parser/parser.js"></script>

	<script src="interpreter/actions/unary operators/minus.js"></script>
	<script src="interpreter/actions/binary operators/plus.js"></script>
	<script src="interpreter/actions/binary operators/minus.js"></script>
	<script src="interpreter/actions/binary operators/multiply.js"></script>
	<script src="interpreter/actions/binary operators/divide.js"></script>
	<script src="interpreter/actions/expression.js"></script>
	<script src="interpreter/actions/assignment.js"></script>
	<script src="interpreter/actions/if.js"></script>
	<script src="interpreter/actions/while.js"></script>
	<script src="interpreter/actions/return.js"></script>
	<script src="interpreter/interpreter.js"></script>
</head>
<body>
<textarea></textarea>
<button onclick="calculate()">Выполнить</button>

<script>
	function calculate(){
		var text_source = {
			text: document.querySelector('textarea').value,
			current_position: 0
		}

		function read_text_source_byte(text_source){
			var current_byte = text_source.text[ text_source.current_position ]

			++text_source.current_position

			return current_byte
		}

		function end_text_source_byte(text_source){
			return text_source.current_position > text_source.text.length
		}

		var stream = create_stream(text_source, read_text_source_byte, end_text_source_byte)

		var functions = parse(stream)
		console.log(functions)

		//interprete(functions)
	}
</script>
</body>
</html>